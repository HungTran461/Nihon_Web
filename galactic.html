<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mystic Galaxy - Battle Arena</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Orbitron:wght@500;700;900&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="galactic.css">
</head>
<body>

    <div id="game-app">
        
        <div class="bg-layer"></div>
        <div class="grid-overlay"></div>

        <section id="scene-inventory" class="scene active">
            <div class="glass-panel inventory-panel">
                <header class="inv-header">
                    <button class="btn-sci-fi small" onclick="window.location.href='gacha.html'">
                        <span class="icon">‚¨Ö</span> RETURN
                    </button>
                    <h1 class="neon-title">BATTLE PREPARATION</h1>
                    <div class="user-info">CH·ªåN CHI·∫æN BINH C·ª¶A B·∫†N</div>
                </header>
                <div id="next-enemy-preview" class="next-enemy-box" style="display:none;">
                    <div class="preview-label">M·ª§C TI√äU TI·∫æP THEO:</div>
                    <div class="preview-content">
                        <img id="preview-e-img" src="" alt="Enemy">
                        <div class="preview-info">
                            <div id="preview-e-name" class="p-name">???</div>
                            <div id="preview-e-elem" class="p-elem">H·ªá: ???</div>
                        </div>
                    </div>
                </div>
                <div class="card-scroll-area" id="inventory-grid">
                    <div class="loader">ƒêang ƒë·ªìng b·ªô d·ªØ li·ªáu...</div>
                </div>
            </div>
        </section>

        <section id="scene-arena" class="scene">
            
            <div class="arena-top">
                <button class="btn-sci-fi warning" onclick="BattleSystem.surrender()">SURRENDER</button>
                <div class="turn-banner" id="turn-banner">
                    <span class="turn-text">PLAYER TURN</span>
                </div>
            </div>

            <div class="battle-stage">
                <div class="unit-container player" id="unit-player">
                    <div class="sprite-wrapper">
                        <img id="p-img" src="" alt="Player Sprite">
                        <div id="p-shield" class="shield-effect"></div>
                        <div class="damage-layer" id="p-dmg-layer"></div>
                    </div>
                    <div class="status-hud">
                        <h2 id="p-name" class="unit-name">PLAYER</h2>
                        <div class="bar-frame">
                            <div class="hp-bar-bg"><div id="p-hp-fill" class="hp-fill"></div></div>
                            <span id="p-hp-text" class="hp-num">1000/1000</span>
                        </div>
                        <div class="mp-bar-bg"><div id="p-mp-fill" class="mp-fill"></div></div>
                        <div id="p-elem" class="elem-badge">üåä</div>
                    </div>
                </div>
                <div class="unit-container enemy" id="unit-enemy">
                    <div class="sprite-wrapper">
                        <img id="e-img" src="" alt="Enemy Sprite">
                        <div id="e-shield" class="shield-effect"></div>
                        <div class="damage-layer" id="e-dmg-layer"></div>
                    </div>
                    <div class="status-hud">
                        <h2 id="e-name" class="unit-name">ENEMY</h2>
                        <div class="bar-frame">
                            <div class="hp-bar-bg"><div id="e-hp-fill" class="hp-fill"></div></div>
                            <span id="e-hp-text" class="hp-num">1000/1000</span>
                        </div>
                        <div class="mp-bar-bg"><div id="e-mp-fill" class="mp-fill"></div></div>
                        <div id="e-elem" class="elem-badge">üî•</div>
                    </div>
                </div>
            </div>

            <div class="arena-bottom">
                <div class="log-display" id="battle-log">H·ªá th·ªëng ƒë√£ s·∫µn s√†ng...</div>
                <div class="command-deck">
                    <button class="cmd-btn atk" onclick="BattleSystem.playerAct('attack')">
                        <div class="cmd-icon">‚öîÔ∏è</div>
                        <div class="cmd-info">
                            <span>T·∫§N C√îNG</span>
                            <small>+20 MP</small>
                        </div>
                    </button>
                    <button class="cmd-btn def" onclick="BattleSystem.playerAct('defend')">
                        <div class="cmd-icon">üõ°Ô∏è</div>
                        <div class="cmd-info">
                            <span>PH√íNG TH·ª¶</span>
                            <small>Gi·∫£m ST</small>
                        </div>
                    </button>
                    <button id="btn-skill" class="cmd-btn skill" onclick="BattleSystem.playerAct('skill')">
                        <div class="cmd-icon">‚ú®</div>
                        <div class="cmd-info">
                            <span>K·ª∏ NƒÇNG</span>
                            <small>50 MP</small>
                        </div>
                    </button>
                </div>
            </div>

        </section>

        <div id="modal-result" class="modal-overlay">
            <div class="modal-content">
                <h1 id="res-title">VICTORY</h1>
                <div id="res-desc">B·∫°n ƒë√£ chi·∫øn th·∫Øng vinh quang!</div>
                <div class="modal-actions">
                    <button class="btn-sci-fi" onclick="location.reload()">ƒê·∫§U L·∫†I</button>
                    <button class="btn-sci-fi secondary" onclick="window.location.href='gacha.html'">V·ªÄ GACHA</button>
                </div>
            </div>
        </div>

    </div>
    <div id="card-modal" class="modal-overlay">
    <div class="modal-content info-modal">
        <button class="modal-close" onclick="BattleSystem.closeModal()">√ó</button>
        
        <div class="modal-header">
            <div id="m-elem-badge" class="m-badge">üî•</div>
            <img id="m-img" class="modal-hero-img" src="">
            <div id="m-rarity" class="m-rarity">SSR</div>
        </div>

        <h2 id="m-name" class="neon-title">T√äN TH·∫∫</h2>
        
        <div class="modal-stats-grid">
            <div class="stat-box"><span>HP</span> <b id="m-hp" style="color:#00ff99">1000</b></div>
            <div class="stat-box"><span>ATK</span> <b id="m-atk" style="color:#ff3333">150</b></div>
            <div class="stat-box"><span>DEF</span> <b id="m-def" style="color:#ffd700">50</b></div>
            <div class="stat-box"><span>SPD</span> <b id="m-spd" style="color:#00f3ff">100</b></div>
        </div>

        <div class="skill-desc-box">
            <h3 style="color:var(--c-neon-blue)">K·ª∏ NƒÇNG: <span id="m-skill-name">---</span></h3>
            <p id="m-skill-desc">M√¥ t·∫£ k·ªπ nƒÉng...</p>
        </div>

        <button class="btn-sci-fi" onclick="BattleSystem.confirmSelection()">CH·ªåN CHI·∫æN BINH N√ÄY</button>
    </div>
</div>
    <script src="galactic.js"></script>
</body>
</html>